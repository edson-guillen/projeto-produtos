
<ion-content class="page-bg" fullscreen="true">
<div class="catalogo-page">
  <header class="catalogo-header">
    <h1>Catálogo de Produtos</h1>
    <div class="header-actions">
      <button class="btn ghost" type="button" (click)="load()">Atualizar</button>
      <button class="btn primary" type="button" (click)="edit()">Novo produto</button>
    </div>
  </header>

  <section class="hero-card">
    <div class="hero-card__copy">
      <p class="hero-eyebrow">Painel Inteligente</p>
      <h2>Gerencie seu estoque com elegância</h2>
      <p>Revise rapidamente valores, estoque disponível e atualize seu catálogo com apenas um clique.</p>
      <div class="hero-actions">
        <button class="btn light" type="button" (click)="edit()">
          <span class="material-icons">add</span>
          Adicionar produto
        </button>
        <button class="btn outline" type="button" (click)="load()">
          <span class="material-icons">sync</span>
          Sincronizar
        </button>
      </div>
    </div>
    <div class="hero-badge">+</div>
  </section>

  <section class="stats">
    <article class="stat">
      <p>Produtos ativos</p>
      <strong>{{ totalProducts }}</strong>
    </article>
    <article class="stat">
      <p>Itens em estoque</p>
      <strong>{{ totalStock }}</strong>
    </article>
    <article class="stat">
      <p>Valor estimado</p>
      <strong>{{ inventoryWorth | currency:'BRL':'symbol':'1.2-2' }}</strong>
    </article>
  </section>

  <section *ngIf="products.length; else vazio" class="product-grid">
    <article class="product-card" *ngFor="let p of products">
      <div class="product-card__heading">
        <div>
          <span class="product-brand" *ngIf="p.brand">{{ p.brand }}</span>
          <h3>{{ p.name }}</h3>
        </div>
        <span class="pill">{{ p.stock || 0 }} un.</span>
      </div>

      <p class="product-card__description" *ngIf="p.description">{{ p.description }}</p>

      <div class="product-card__footer">
        <div class="price">
          <span>Preço unitário</span>
          <strong>{{ p.price | currency:'BRL':'symbol':'1.2-2' }}</strong>
        </div>
        <div class="card-buttons">
          <button class="btn small ghost" type="button" (click)="edit(p.id)">Editar</button>
          <button class="btn small danger" type="button" (click)="remove(p.id)">Excluir</button>
        </div>
      </div>
    </article>
  </section>

  <ng-template #vazio>
    <section class="empty-card">
      <div class="empty-icon">
        <span class="material-icons">inventory_2</span>
      </div>
      <h3>Nenhum produto encontrado</h3>
      <p>Adicione seu primeiro item para começar a controlar o catálogo.</p>
      <button class="btn primary" type="button" (click)="edit()">Cadastrar produto</button>
    </section>
  </ng-template>
</div>
</ion-content>
